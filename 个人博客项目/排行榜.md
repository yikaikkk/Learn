# 博客的排行榜

排行榜功能基于Redis有序集合（ZSet）实现，用于展示浏览量最高的文章。以下是详细的技术实现

## 核心架构
数据存储结构 ：

- Redis Key : article_views_count （在 RedisConstant.java 中定义）
- 数据结构 : Redis ZSet（有序集合）
  - Member : 文章ID
  - Score : 文章浏览量


## 实现流程 
1. 浏览量更新

当用户访问文章时，浏览量会自动累加：
```java
// 在ArticleServiceImpl.java中
public void updateArticleViewsCount(Integer articleId) {
    redisService.zIncr(ARTICLE_VIEWS_COUNT, articleId, 1D);
}
```

- 使用Redis的 ZINCRBY 命令原子性增加分数
- 每次访问增加1个浏览量
- Redis ZSet自动按分数排序，无需手动维护排序

## 一致性

在浏览量会自动累加时，会自动将数据投入到rabbitmq中，通过异步的方式修改mysql

同时使用定时任务核对redis中和mysql中的数据的一致性

