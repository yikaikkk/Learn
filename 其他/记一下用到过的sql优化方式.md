# 记一下最近用到的sql优化

## 避免select *
 不使用select * ，在select的时候尽量只选择固定的字段

1. 减少网络传输
2. 可以减少CPU的消耗
3. 可以使用覆盖索引，减少回表次数

## 深度分页优化
当数据量巨大时，如果使用常规的offset加limit的方式进行分页，会导致读取许多无用的数据。
因此，在深度分页的场景下，以上一次的id为过滤，可以减少读取无用的数据，从而对深度分页常见进行优化

## 覆盖索引
在 part1中 提到了覆盖索引，当查询时使用了覆盖索引，可以减少到主键索引中进行第二次查询的次数


## 减少多表join

在进行多表join时，如果没有限制条件，会形成笛卡尔积，导致数量级指数级上升

同时使用join时

	•	INNER JOIN：只要有关联的数据（性能更好）
	•	LEFT JOIN：要“全部 + 缺失数据”


## 索引
对于常在where中出现的字段，加索引

同时，避免索引失效，即注意最左匹配，表达式等场景，会让索引失效

## 慢sql优化

在之前的文章中有记过mysql的慢sql优化[慢sql优化](http://guilinz.online/articles/164)