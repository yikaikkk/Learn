# 记一次由mysql性能导致的问题
## 背景
在新项目中，数据库和老服务的集群是一个集群，在今天上线了一个大数据量的同步任务以后导致老服务出现了读写不一致的问题

## 问题排查
首先排查mysql集群上的sql执行日志，发现有慢sql，对应找到sql对应的服务是上线的同步任务。但是同步任务和老服务的数据库并不是一个数据库。从而转而排查mysql自身的问题

对mysql的SLA指标进行分析发现，当同步任务执行时，mysql占用的cpu量快到50%，同时主从节点间的同步延迟达到了6s，而集群的策略采用的读写分离的策略，所有的读操作都是在从节点，所以会导致读写不一致的问题。